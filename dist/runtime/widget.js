System.register(["jimu-core","jimu-core/react"],(function(e,r){var t={},n={};return{setters:[function(e){t.React=e.React},function(e){n.useState=e.useState}],execute:function(){e((()=>{var e={9244:e=>{"use strict";e.exports=t},8972:e=>{"use strict";e.exports=n}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var i={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(i),o.d(i,{__set_webpack_public_path__:()=>g,default:()=>h});var e=o(9244),r=o(8972);const t={Promise:"undefined"!=typeof window?window.Promise:void 0};var n="4.25",a="next";function c(e){if(e.toLowerCase()===a)return a;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function u(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function s(e){return!e||c(e)?function(e){void 0===e&&(e=n);var r=u(e),t=c(e);if(t!==a&&3===t.major){var o=t.minor<=10?"js/":"";return"".concat(r).concat(o,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}(e):e}function d(e,r){var t=s(e),n=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(t);return n||function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(n=function(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}(t),r),n}var l={};function f(e,r,t){var n;t&&(n=function(e,r){var t=function(n){r(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}(e,t));var o=function(){r(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function v(){return document.querySelector("script[data-esri-loader]")}function m(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var r={};[l,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,o=r.url||u(n);return new t.Promise((function(e,t){var i=v();if(i){var a=i.getAttribute("src");a!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):m()?e(i):f(i,e,t)}else if(m())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;if(c)d(!0===c?n:c,r.insertCssBefore);i=function(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}(o),f(i,(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function y(e){return new t.Promise((function(r,t){var n=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.remove(),r(e)}))}))}var w=function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}u((n=n.apply(e,r||[])).next())}))};const h=t=>{const[n,o]=(0,r.useState)(!1);return e.React.createElement("div",{className:"widget-demo jimu-widget m-2"},e.React.createElement("button",{className:"btn btn-primary m-2",onClick:()=>o(!n)},"Logout dropdown"),n&&e.React.createElement("div",{className:"dropdown-menu show m-2",style:{display:"block"}},e.React.createElement("button",{className:"btn btn-secondary",onClick:()=>w(void 0,void 0,void 0,(function*(){try{const[e]=yield function(e,r){if(void 0===r&&(r={}),m())return y(e);var t=v(),n=t&&t.getAttribute("src");return!r.url&&n&&(r.url=n),p(r).then((function(){return y(e)}))}(["esri/identity/IdentityManager"]);e.destroyCredentials(),sessionStorage.clear(),localStorage.clear();const r="https://gis.uzspace.uz/uzspace",t=`${r}/home/signin.html`,n=`${r}/sharing/rest/oauth2/signout?redirect_uri=${encodeURIComponent(t)}`;window.location.href=n}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 logout:",e)}}))},"Logout")))};function g(e){o.p=e}})(),i})())}}}));